# Default values for token-images chart
namespace: "token-images"  # Namespace for all resources

replicaCount: 1

image:
  repository: 740460158899.dkr.ecr.eu-west-1.amazonaws.com/token-images
  tag: 7abaedbb3100768902f920891592b58be11e457f
  pullPolicy: Always

service:
  type: ClusterIP
  port: 80
  targetPort: 4000
  # Option 2: Use ExternalName service to point to existing ALB
  useExternalName: false
  externalName: "eul-dev-lb-1234567890.eu-west-1.elb.amazonaws.com"  # Replace with your ALB DNS name

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 256Mi

nodeSelector: {}

tolerations: []

affinity: {}

# Doppler creates Kubernetes secrets with environment variables
# Configure the secret names here
secrets:
  # Name of the Kubernetes secret containing Doppler secrets
  name: "token-images-prd"  # Matches managedSecret.name in DopplerSecret
  # Optional: specify if you want to use envFrom (mounts all secrets) or individual env vars
  useEnvFrom: true

# Ingress configuration for AWS ALB
ingress:
  enabled: true
  className: "alb"
  groupName: "eul-dev-lb-group"  # Group name for ALB sharing
  subnets: "subnet-0c1704842f6ef41d1, subnet-0e76b0603f950b3fa, subnet-0a2dac517ddd5c387"
  host: "tokens.eul.dev"
  path: "/"
  pathType: "Prefix"
  healthCheckPath: "/health"  # Update this to match your app's health endpoint
  tls:
    - secretName: tokens-eul-dev-tls  # Create this secret with your SSL certificate
      hosts:
        - tokens.eul.dev
